<template>
    <div>
        <section>
            <div class="container">
                <div class="row">
                    <div class="col-12 px-0">
                        <div class="bg-white login-wrap container pb-4 px-5 shadow-sm">
                          <div class="py-4">
                              <h1>Login</h1>
                          </div>
                            <div class="form-group">
                                <label for="user">Nom d'utilisateur</label>
                                <input id="user" type="user" v-model="username" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="pwd">Mot de passe</label>
                                <input id="pwd" type="password" v-model="password" class="form-control">
                                <a href="" class="text-primary-color">Mot de passe oubli√© ?</a>
                            </div>
                            <input type="submit" v-on:click="userAuthentication" class="btn btn-primary btn-lg btn-block my-2" value="Se connecter">
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</template>

<script>
import Vue from 'vue'
import router from '../../router'

export default {
  name: 'Login',
  data: function () {
    return {username: '', password: ''}
  },
  methods: {
    userAuthentication: function () {
      new Vue().$http
        .post('api/users/authenticate', {
          username: this.username,
          password: this.password
        })
        .then(function (response) {
          router.push('/cms/home')
        })
        .catch(function (error) {
          
        })
    }
  }
}
</script>

<style>
    @import '../../styles/app.css'
</style>
